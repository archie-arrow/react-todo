(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(15),r=n.n(o),i=n(14),s=n(53),d=n(82),l=n(12),j={logged:localStorage.getItem("logged"),uid:localStorage.getItem("uid"),token:localStorage.getItem("token")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(l.a)(Object(l.a)({},e),{},{logged:!0,uid:t.payload.user.uid,token:t.payload.token});case"LOG_OUT":return{logged:!1,uid:null,token:null};default:return e}},b=n(10),O={data:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return Object(l.a)(Object(l.a)({},e),{},{data:t.payload});case"SET_FAVORITE":var n=Object(l.a)(Object(l.a)({},e.data[t.payload]),{},{fav:!e.data[t.payload].fav}),a=Object(l.a)(Object(l.a)({},e.data),{},Object(b.a)({},t.payload,Object(l.a)({},n)));return Object(l.a)(Object(l.a)({},e),{},{data:a});case"SET_DONE":var c=Object(l.a)(Object(l.a)({},e.data[t.payload]),{},{done:!e.data[t.payload].done}),o=Object(l.a)(Object(l.a)({},e.data),{},Object(b.a)({},t.payload,Object(l.a)({},c)));return Object(l.a)(Object(l.a)({},e),{},{data:o});case"DELETE_TODO":var r=Object(l.a)({},e.data);return delete r[t.payload],Object(l.a)(Object(l.a)({},e),{},{data:r});default:return e}},p=Object(s.b)({account:u,todo:h}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,g=Object(s.d)(p,x(Object(s.a)(d.a)));window.store=g;var f=g,m=n(25),v=n(51),y=n(17),I=n(179),k=n(101),w=n(180),C=n(181),S=n(170),N=n(22),E=n(172),T=n(174),_=n(176),D=n(175),L=n(185),A=n(89),F=n.n(A),R=n(88),B=n.n(R),G=n(90),W=n.n(G),P=n(87),U=n.n(P),V=(n(73),n(85),n(49));n(121),n(137);V.a.initializeApp({apiKey:"AIzaSyD0qw6D7y6xBkdII_b9ZuXlbJn3-DoP_L4",authDomain:"react-todo-21de0.firebaseapp.com",projectId:"react-todo-21de0",storageBucket:"react-todo-21de0.appspot.com",messagingSenderId:"860332836225",appId:"1:860332836225:web:46298103de4e8c3554d480"});var z=new V.a.auth.GoogleAuthProvider;var J=V.a.firestore();var M=function(e){return{type:"SET_DATA",payload:e}},X=n(3),H=Object(S.a)((function(e){return{grow:Object(b.a)({flexGrow:1,marginBottom:"80px"},e.breakpoints.down("xs"),{justifyContent:"space-between",flexGrow:1}),title:Object(b.a)({display:"block",fontWeight:500},e.breakpoints.down("xs"),{display:"none"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(N.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(N.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:e.spacing(3),width:"auto"},e.breakpoints.down("xs"),{width:"50%"}),searchIcon:{padding:e.spacing(0,1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)")}}}));function q(e){var t=e.toggleTheme,n=e.theme,a=e.searchInput,c=e.updateSearchInput,o=H(),r=Object(i.b)();return Object(X.jsx)("div",{className:o.grow,children:Object(X.jsx)(E.a,{position:"static",children:Object(X.jsxs)(T.a,{children:[Object(X.jsx)(D.a,{className:o.title,variant:"h6",noWrap:!0,children:"React Todo"}),Object(X.jsxs)("form",{className:o.search,children:[Object(X.jsx)("div",{className:o.searchIcon,children:Object(X.jsx)(U.a,{})}),Object(X.jsx)(L.a,{placeholder:"Search\u2026",input:a,onChange:c,classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"}})]}),Object(X.jsx)("div",{className:o.grow}),Object(X.jsxs)("div",{children:[Object(X.jsx)(_.a,{"aria-label":"change theme",color:"inherit",onClick:t,children:n?Object(X.jsx)(B.a,{}):Object(X.jsx)(F.a,{})}),Object(X.jsx)(_.a,{edge:"end","aria-label":"logout of account",color:"inherit",onClick:function(){V.a.auth().signOut().then((function(){console.log("Signout Succesfull")}),(function(e){console.log("Signout Failed")})),r({type:"LOG_OUT"}),r(M({})),localStorage.clear()},children:Object(X.jsx)(W.a,{})})]})]})})})}var K=n(91),Z=n(177),Q=n(182),Y=Object(S.a)((function(){return{form:{display:"flex",justifyContent:"space-between",marginBottom:"40px"},textField:{width:340},btn:{width:200}}}));function $(){var e=Y(),t=Object(i.c)((function(e){return e.account.uid})),n=Object(i.c)((function(e){return e.todo.data})),a=c.a.useState(""),o=Object(m.a)(a,2),r=o[0],s=o[1],d=Object(i.b)();return Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=Object(K.uuid)(),c=Object(b.a)({},a,{title:r,fav:!1,done:!1,id:a});J.collection("todos").doc(t).set(Object(l.a)({},c),{merge:!0}),d(M(Object(l.a)(Object(l.a)({},n),c)))},className:e.form,children:[Object(X.jsx)(Q.a,{className:e.textField,id:"outlined-basic",label:"Create a new note",variant:"outlined",onChange:function(e){s(e.target.value)}}),Object(X.jsx)(Z.a,{className:e.btn,size:"large",variant:"contained",color:"primary",type:"submit",children:"Create"})]})}var ee=n(183),te=n(184),ne=n(178),ae=n(93),ce=n.n(ae),oe=n(94),re=n.n(oe),ie=n(95),se=n.n(ie),de=n(96),le=n.n(de),je=Object(S.a)((function(e){return{root:{background:e.palette.primary.main,position:"fixed",bottom:0,left:0,right:0},icon:{color:e.palette.secondary.main},iconActive:{color:e.palette.common.white}}}));function ue(){var e=je(),t=c.a.useState(0),n=Object(m.a)(t,2),a=n[0],o=n[1];return Object(X.jsx)(ee.a,{className:e.root,children:Object(X.jsxs)(te.a,{centered:!0,textColor:"secondary",indicatorColor:"secondary",value:a,children:[Object(X.jsx)(ne.a,{onClick:function(){return o(0)},component:v.b,to:"/",icon:Object(X.jsx)(ce.a,{color:"inherit"})}),Object(X.jsx)(ne.a,{onClick:function(){return o(1)},component:v.b,to:"/favorite",icon:Object(X.jsx)(re.a,{color:"inherit"})}),Object(X.jsx)(ne.a,{onClick:function(){return o(2)},component:v.b,to:"/done",icon:Object(X.jsx)(se.a,{color:"inherit"})}),Object(X.jsx)(ne.a,{onClick:function(){return o(3)},component:v.b,to:"/undone",icon:Object(X.jsx)(le.a,{color:"inherit"})})]})})}var be=n(139),Oe=n(97),he=n.n(Oe),pe=Object(S.a)((function(){return{root:{padding:"25px",width:400,height:200,margin:"0 auto",marginTop:"5%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{marginBottom:"10px",textAlign:"center"},btn:{margin:"0 auto"}}}));function xe(){var e=Object(i.b)(),t=pe(),n=function(t){var n=t.user,a=t.token;n&&a&&e({type:"LOG_IN",payload:{user:n,token:a}})};return Object(X.jsxs)(be.a,{elevation:1,className:t.root,children:[Object(X.jsx)(D.a,{className:t.title,variant:"h5",children:"Sing in with Google to use app:"}),Object(X.jsx)(he.a,{className:t.btn,onClick:function(){return e=n,void V.a.auth().signInWithPopup(z).then((function(t){var n=t.credential.accessToken,a=t.user;localStorage.setItem("token",n),localStorage.setItem("uid",a.uid),localStorage.setItem("logged",!0),e({token:n,user:a})})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}}));var e}})]})}var ge=Object(S.a)((function(){return{noItems:{marginBottom:"230px"}}}));function fe(e){var t=e.list,n=ge(),a=Object(i.c)((function(e){return e.todo.data}));return Object(X.jsx)(X.Fragment,{children:0===Object.keys(a).length?Object(X.jsx)(D.a,{className:n.noItems,variant:"h5",children:"It looks like you haven't added anything to your to-do list yet."}):t.map((function(e){return e}))})}var me=n(98),ve=n.n(me),ye=n(99),Ie=n.n(ye),ke=n(100),we=n.n(ke),Ce=Object(S.a)((function(e){return{note:{padding:"13px 20px",borderRadius:"5px",display:"flex",justifyContent:"space-between",alignItems:"center","&+&":{marginTop:"20px"},"&:last-child":{marginBottom:"60px"}},doneNote:{textDecoration:"line-through",color:e.palette.primary.main}}}));function Se(e){var t=e.children,n=e.todoId,a=Ce(),c=Object(i.c)((function(e){return e.account.uid})),o=Object(i.c)((function(e){return e.todo.data})),r=Object(i.b)(),s=o[n].fav,d=o[n].done;return Object(X.jsxs)(be.a,{elevation:1,className:a.note,children:[Object(X.jsx)(D.a,{className:d?a.doneNote:"",variant:"h6",component:"p",children:t}),Object(X.jsxs)(ee.a,{children:[Object(X.jsx)(_.a,{onClick:function(){r(function(e){return{type:"SET_FAVORITE",payload:e}}(n)),J.collection("todos").doc(c).update(Object(b.a)({},n,Object(l.a)(Object(l.a)({},o[n]),{},{fav:!o[n].fav})))},children:Object(X.jsx)(ve.a,{style:s?{color:"red"}:{}})}),Object(X.jsx)(_.a,{onClick:function(){r(function(e){return{type:"SET_DONE",payload:e}}(n)),J.collection("todos").doc(c).update(Object(b.a)({},n,Object(l.a)(Object(l.a)({},o[n]),{},{done:!o[n].done})))},children:Object(X.jsx)(Ie.a,{style:d?{color:"green"}:{}})}),Object(X.jsx)(_.a,{onClick:function(){r(function(e){return{type:"DELETE_TODO",payload:e}}(n)),J.collection("todos").doc(c).update(Object(b.a)({},n,V.a.firestore.FieldValue.delete()))},children:Object(X.jsx)(we.a,{})})]})]})}var Ne=Object(S.a)((function(e){return{notesHeader:Object(b.a)({display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"20px"},e.breakpoints.down("xs"),{display:"block"}),title:{fontWeight:500},subtitle:{fontWeight:300}}}));function Ee(e){var t=e.children,n=e.num,a=Ne();return Object(X.jsxs)("div",{className:a.notesHeader,children:[Object(X.jsx)(D.a,{className:a.title,variant:"h4",children:t}),Object(X.jsxs)(D.a,{className:a.subtitle,variant:"h5",children:["number of records: ",n]})]})}function Te(e){var t=e.searchInput,n=Object(i.c)((function(e){return e.todo.data})),a=[];for(var c in n)void 0!==t&&""!==t?n[c].title.toLowerCase().includes(t.toLowerCase())&&a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c)):a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ee,{num:a.length,children:"All todos"}),Object(X.jsx)(fe,{list:a})]})}function _e(e){var t=e.searchInput,n=Object(i.c)((function(e){return e.todo.data})),a=[];for(var c in n)void 0!==t&&""!==t?n[c].title.toLowerCase().includes(t.toLowerCase())&&n[c].fav&&a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c)):a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ee,{num:a.length,children:"Favorite todos"}),Object(X.jsx)(fe,{list:a})]})}function De(e){var t=e.searchInput,n=Object(i.c)((function(e){return e.todo.data})),a=[];for(var c in n)void 0!==t&&""!==t?n[c].title.toLowerCase().includes(t.toLowerCase())&&n[c].done&&a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c)):a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ee,{num:a.length,children:"Done todos"}),Object(X.jsx)(fe,{list:a})]})}function Le(e){var t=e.searchInput,n=Object(i.c)((function(e){return e.todo.data})),a=[];for(var c in n)void 0!==t&&""!==t?n[c].title.toLowerCase().includes(t.toLowerCase())&&!n[c].done&&a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c)):a.push(Object(X.jsx)(Se,{todoId:c,children:n[c].title},c));return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ee,{num:a.length,children:"Undone todos"}),Object(X.jsx)(fe,{list:a})]})}function Ae(){var e=c.a.useState("true"===localStorage.getItem("dark")),t=Object(m.a)(e,2),n=t[0],a=t[1],o=c.a.useState(""),r=Object(m.a)(o,2),s=r[0],d=r[1],l=Object(i.c)((function(e){return e.account.logged})),j=Object(i.c)((function(e){return e.account.uid})),u=Object(k.a)({palette:{primary:{main:"#64b5f6",light:"#9be7ff",dark:"#2286c3"},secondary:{main:"#1565c0",light:"#5e92f3",dark:"#003c8f"}}}),b=Object(k.a)({palette:{type:"dark",primary:{main:"#212121",light:"#484848",dark:"#000000"},secondary:{main:"#424242",light:"#6d6d6d",dark:"#1b1b1b"}}}),O=Object(i.b)();return c.a.useEffect((function(){j&&J.collection("todos").doc(j).get().then((function(e){e.exists?O(M(e.data())):J.collection("todos").doc(j).set({})})).catch((function(e){console.log("Error getting document:",e)}))}),[O,j]),Object(X.jsx)("div",{className:"App",children:Object(X.jsx)(I.a,{theme:n?b:u,children:Object(X.jsxs)(v.a,{children:[Object(X.jsx)(w.a,{}),l?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(q,{toggleTheme:function(){a(!n),localStorage.setItem("dark",!n)},theme:n,searchInput:s,updateSearchInput:function(e){d(e.target.value)}}),Object(X.jsxs)(C.a,{maxWidth:"sm",children:[Object(X.jsx)($,{}),Object(X.jsxs)(y.c,{children:[Object(X.jsx)(y.a,{exact:!0,path:"/",children:Object(X.jsx)(Te,{searchInput:s})}),Object(X.jsx)(y.a,{exact:!0,path:"/favorite",children:Object(X.jsx)(_e,{searchInput:s})}),Object(X.jsx)(y.a,{exact:!0,path:"/done",children:Object(X.jsx)(De,{searchInput:s})}),Object(X.jsx)(y.a,{exact:!0,path:"/undone",children:Object(X.jsx)(Le,{searchInput:s})})]})]}),Object(X.jsx)(ue,{})]}):Object(X.jsx)(xe,{})]})})})}r.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(i.a,{store:f,children:Object(X.jsx)(Ae,{})})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.27e207f7.chunk.js.map